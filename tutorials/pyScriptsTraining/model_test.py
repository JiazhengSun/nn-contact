from __future__ import print_function
import scipy.io as sio
import numpy as np
from keras.models import load_model
import csv
import os

mpath = '/Users/jiazhengsun/Desktop/nn-contact/data/NN-contact-force/keras_model/3D/'
model = load_model(os.path.join(mpath,'3D-rect-PDD-R1.h5'))

x_test_1 = [[0.997834, -0.0225904, -0.0617758, 0.0347001, 0.978643, 0.20262, 0.0558792, 
-0.204325, 0.977307, 0.0441396, -0.178487, -0.21877, 0.17429, -0.111783, 
0.113199, 0.0276258, -0.30103, 0.147426, -0.895265, 0.232987, -0.162503  ]]

x_test_1 = np.array(x_test_1)
print(model.predict(x_test_1, batch_size=1))

# for i in range(4):
# 	Wname = 'W' + str(i)
# 	Bname = 'B' + str(i)
# 	Wmat = model.layers[i].get_weights()[0]
# 	#Wmat = np.transpose(Wmat)
# 	print(Wname)
# 	for i in range(len(Wmat)):
# 		print(Wmat[i])
# 	#Bmat = model.layers[i].get_weights()[1]
# 	#Bmat = np.transpose(Bmat)
# 	#print(Bmat.shape)


#Point data
# 0.997834, -0.0225904, -0.0617758, 0.0347001, 0.978643, 0.20262, 0.0558792, 
# -0.204325, 0.977307, 0.0441396, -0.178487, -0.21877, 0.17429, -0.111783, 
# 0.113199, 0.0276258, -0.30103, 0.147426, -0.895265, 0.232987, -0.162503  

#Line data
# 1, 0, 0, 0, 0.930141, 0.367203, 0,
# -0.367203, 0.930141, 0.0666667, 0, 0, 0.285714, -0.146505, 
# 0.365241, 0.285714, -0.274792, 0.250401, 0, 0.243477, -0.0924968  

#Surface data
# 1, 0, 0, 0, 1, 0, 0, 0, 1,
# 0, 0, 0, 0.285714, -0.28, 0.285714, 0.285714, -0.28,
# 0.285714, 0, 0.0988, 0

#PDD check:
#Pt: [[-3.953313   6.451379  -2.1839738]].   -3.95331 6.45138 -2.18397 
#Line: [[ 4.3783517  -0.5532177   0.04800823 -8.391013   10.061611   -2.697426  ]]  4.37835 -0.553217 0.0480082 -8.39101 10.0616 -2.69742 
#Face: [[ 2.2136657  -0.10307238 -0.2337472  -9.104881   10.881646   -7.275428  ]]. 2.21367 -0.103073 -0.233747 -9.10488 10.8816 -7.27543

#Regular check:
#Line: [[-9.554009   -2.8234768  -0.16801554]].  -9.55401 -2.82348 -0.168016
#Face: [[-9.4441586e+00 -7.4098988e+00  1.3505518e-03]]. -9.44416 -7.4099 0.00135027  


#[[-3.3709354  5.6086874 -1.5210941]] -3.37094 5.60869 -1.52109 